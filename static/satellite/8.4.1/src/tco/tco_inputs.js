var d3=require("d3"),getUrlParameter=require("../common/get_url_param"),inputNames=["software_num_systems","software_avg_cost","server_num","server_avg_cost","server_avg_software_cost","storage_internal_cost","storage_cloud_cost","staff_num","staff_avg_salary","infrastructure_network_cost","infrastructure_security_cost","infrastructure_datacentre_cost","infrastructure_power_cost"],inputElements=inputNames.reduce(function(elements,inputID){elements[inputID]=d3.select("#".concat(inputID));return elements},{}),getInput=function(key){return+inputElements[key].property("value")},setInput=function(key,value){return inputElements[key].property("value",value)},initInputs=function(){inputNames.forEach(function(inputID){var value=getUrlParameter(inputID);if(void 0!==value){setInput(inputID,value)}})},getInputs=function(){var software={num_systems:getInput("software_num_systems"),avg_cost:getInput("software_avg_cost")},server={num:getInput("server_num"),avg_cost:getInput("server_avg_cost"),avg_software_cost:getInput("server_avg_software_cost")},storage={internal_cost:getInput("storage_internal_cost"),cloud_cost:getInput("storage_cloud_cost")},staff={num:getInput("staff_num"),avg_salary:getInput("staff_avg_salary")},infrastructure={network_cost:getInput("infrastructure_network_cost"),security_cost:getInput("infrastructure_security_cost"),datacentre_cost:getInput("infrastructure_datacentre_cost"),power_cost:getInput("infrastructure_power_cost")};return{software:software,server:server,storage:storage,staff:staff,infrastructure:infrastructure}},serialiseInputs=function(){return inputNames.map(function(inputID){return"".concat(inputID,"=").concat(getInput(inputID))}).join("&")};module.exports={initInputs:initInputs,getInputs:getInputs,serialiseInputs:serialiseInputs};