"use strict";for(var getUrlParameter=require("../common/get_url_param"),human_number=function human_number(value){return value.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")},param_names=["numberofsystems","easytofind","timetofind","frequencytofind","avgsalary","numberofstaff"],param_transformations={easytofind:function easytofind(value){return"Yes"===value?1:0},timetofind:function timetofind(value){var options={"Less than 30 seconds":30,"Less than a minute":60,"1–3 minutes":3*60,"4 minutes or more":5*60,"I can't find the information":8*60};return options[value]},frequencytofind:function frequencytofind(value){var options={"Once an hour":1,"3 times an hour":3,"10 times an hour":10,"More than 10 times an hour":15};return options[value]},avgsalary:function avgsalary(value){var options={"< $30k":3e4,"$30k–$50k":5e4,"$50k–$75k":75e3,"$75k–$100k":1e5,"> $100k":15e4};return options[value]}},raw_param_data={},param_data={},param_value,all_required=!0,i=0,param;i<param_names.length;i++){param=param_names[i];param_value=getUrlParameter(param);if(!param_value){all_required=!1}raw_param_data[param]=param_value;param_data[param]="function"===typeof param_transformations[param]?param_transformations[param](param_value):param_value}var nuxeo_speed_to_find=30,hours_per_day=8,working_days_per_year=260,seconds_per_day_to_days_per_year=function seconds_per_day_to_days_per_year(seconds_per_day){var seconds_per_year=seconds_per_day*working_days_per_year,days_per_year=seconds_per_year/60/60/hours_per_day;return days_per_year};if(all_required){var switch_multiplier=(param_data.numberofsystems-1)*(param_data.easytofind?10:20),frequency_per_day=param_data.frequencytofind*hours_per_day,seconds_per_day_new=nuxeo_speed_to_find*param_data.numberofstaff*frequency_per_day,days_per_year_new=seconds_per_day_to_days_per_year(seconds_per_day_new),seconds_per_day_existing=(param_data.timetofind+switch_multiplier)*param_data.numberofstaff*frequency_per_day,days_per_year_existing=seconds_per_day_to_days_per_year(seconds_per_day_existing),daily_salary=param_data.avgsalary/working_days_per_year,cost_existing=days_per_year_existing*daily_salary,cost_new=days_per_year_new*daily_salary,days_per_year_saved=days_per_year_existing-days_per_year_new,saving=days_per_year_saved*daily_salary,productivity=days_per_year_saved/(working_days_per_year*param_data.numberofstaff);productivity=(100*productivity).toFixed(1);document.getElementById("saving").innerHTML="$"+human_number(saving);document.getElementById("productivity").innerHTML=productivity+"%";var getColour=function getColour(colour,opacity){return"rgba("+colour+", "+opacity+")"},colours={blue:"0, 103, 255",purple:"133, 0, 255",red:"255, 0, 68",orange:"241, 88, 24"},ctx=document.getElementById("myChart").getContext("2d");Chart.defaults.global.defaultColor="#fff";Chart.defaults.global.defaultFontColor="rgba(255, 255, 255, 1)";Chart.defaults.global.defaultFontFamily="Arial, sans-serif";Chart.defaults.global.defaultFontSize=16;new Chart(ctx,{type:"bar",data:{labels:["Existing Cost","Cost after Modernization","Potential Saving"],datasets:[{label:"$",data:[cost_existing,cost_new,saving],backgroundColor:[getColour(colours.red,.9),getColour(colours.blue,.9),getColour(colours.purple,.9)],borderColor:["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(153, 102, 255, 1)"],borderWidth:3}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function callback(value){return"$"+human_number(value)}}}]},legend:{display:!1},title:{display:!0,fontSize:20,text:"Cost of Finding Information"},tooltips:{callbacks:{label:function label(tooltipItem,data){var label=data.datasets[tooltipItem.datasetIndex].label||"";label+=human_number(tooltipItem.yLabel);return label}}},gridlines:{color:"rgba(255, 255, 255, 1)"}}})}else{document.getElementById("info").classList.add("hide");document.getElementById("info_missing").classList.remove("hide")}if(!getUrlParameter("return")){var goNext=function goNext(e){if("click"===e.type||"Enter"===e.key){document.getElementById("results").classList.add("hide");document.getElementById("typeform").classList.remove("hide");document.getElementById("next").removeEventListener("click",goNext);document.removeEventListener("keyup",goNext)}};document.getElementById("next").addEventListener("click",goNext);document.addEventListener("keyup",goNext);var typeform_url="https://nuxeosurveys.typeform.com/to/g5A71P"+window.location.search;document.getElementById("typeform").setAttribute("data-url",typeform_url);document.querySelectorAll(".no-return").forEach(function(e){e.classList.remove("hide")});(function(){var qs,js,q,s,d=document,gi=d.getElementById,ce=d.createElement,gt=d.getElementsByTagName,id="typef_orm",b="https://embed.typeform.com/";if(!gi.call(d,id)){js=ce.call(d,"script");js.id=id;js.src=b+"embed.js";q=gt.call(d,"script")[0];q.parentNode.insertBefore(js,q)}})()}