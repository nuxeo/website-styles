window.jQuery&&(function(a){a.extend({xml2json:function(b,i){var c="",d=null;if(!b)return{};function e(j,m){if(!j)return d;var h=c,b=d,l=d,o=j.nodeType,n=f(j.localName||j.nodeName),p=j.text||j.nodeValue||c;if(j.childNodes)j.childNodes.length>0&&a.each(j.childNodes,function(k,d){var i=d.nodeType,a=f(d.localName||d.nodeName),j=d.text||d.nodeValue||c;if(i==8)return;else if(i==3||i==4||!a){if(j.match(/^\s+$/))return;h+=j.replace(/^\s+/,c).replace(/\s+$/,c)}else{b=b||{};if(b[a]){if(!b[a].length)b[a]=g(b[a]);b[a][b[a].length]=e(d,true);b[a].length=b[a].length}else b[a]=e(d)}});if(j.attributes)if(j.attributes.length>0){l={};b=b||{};a.each(j.attributes,function(e,d){var a=f(d.name),c=d.value;l[a]=c;if(b[a]){if(!b[a].length)b[a]=g(b[a]);b[a][b[a].length]=c;b[a].length=b[a].length}else b[a]=c})}if(b){b=a.extend(h!=c?new String(h):{},b||{});h=b.text?(typeof b.text=="object"?b.text:[b.text||c]).concat([h]):h;if(h)b.text=h;h=c}var k=b||h;if(i){if(h)k={};h=k.text||h||c;if(h)k.text=h;if(!m)k=g(k)}return k}var f=function(a){return String(a||c).replace(/-/g,"_")},k=function(a){return typeof a=="number"||String(a&&typeof a=="string"?a:c).test(/^((-)?([0-9]*)((\.{0,1})([0-9]+))?$)/)},g=function(a){if(!a.length)a=[a];a.length=a.length;return a};if(typeof b=="string")b=a.text2xml(b);if(!b.nodeType)return;if(b.nodeType==3||b.nodeType==4)return b.nodeValue;var h=b.nodeType==9?b.documentElement:b,j=e(h,true);b=d;h=d;return j},text2xml:function(d){var c;try{var b=a.browser.msie?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser;b.async=false}catch(e){throw new Error("XML Parser could not be instantiated");}try{if(a.browser.msie)c=b.loadXML(d)?b:false;else c=b.parseFromString(d,"text/xml")}catch(e){throw new Error("Error parsing XML string");}return c}})})(jQuery);